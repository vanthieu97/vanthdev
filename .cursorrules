# Frontend Engineering Standards

Work as a senior Frontend engineer. Follow the conventions below.

## Stack & Structure

- **Framework**: Next.js 14 (App Router), React 18
- **Styling**: Tailwind CSS v4
- **Structure**: `src/app/` (routes), `src/lib/` (utils, fetch), components colocated in feature folders

## Server vs Client Components

- **Server first**: Default to Server Components. Use `'use client'` only when needed: state, event handlers, hooks, browser APIs.
- **Data fetching**: Fetch on server (page.tsx, layout.tsx). Pass data to Client Components via props.
- **API routes**: Use `/api/*` when client needs to fetch (pagination, mutations). Server fetches directly from lib.

```tsx
// ✅ Server page fetches, passes to client
const data = await fetchFromLib();
return <ClientList initialData={data} />;

// ✅ Client loads more via API route
fetch(`/api/news?page=${nextPage}`)
```

## Styling & Design System

- **Tailwind first**: Prefer Tailwind utility classes over custom CSS. Avoid adding new rules to globals.css or feature CSS files. Use `className` with Tailwind for layout, colors, gradients, animations, hover states.
- **Tailwind v4**: Use `bg-linear-to-*` for gradients (not `bg-gradient-to-*`). Use built-in `animate-*` (animate-pulse, animate-bounce) instead of custom @keyframes when possible.
- **Colors**: `#faf8f5` (background), `#c41e3a` (accent/red), `#1a1a1a` (text), `#6b6b6b` / `#8a8a8a` (muted)
- **Layout**: `max-w-6xl mx-auto px-4 py-8 md:px-6 md:py-12`
- **Cards**: `rounded-2xl`, `shadow-[0_1px_3px_rgba(0,0,0,0.06)]`, hover: `shadow-[0_12px_40px...]`, `-translate-y-1`
- **Focus**: `focus:ring-2 focus:ring-[#c41e3a] focus:ring-offset-2`
- Use Tailwind arbitrary values when needed. Responsive: `md:`, `sm:`.

## SEO

- **Metadata**: Every page has `title`, `description`, `keywords`. Layout exports `metadata`.
- **Title**: Put primary keyword first (e.g. "Cúp C1 2025/2026 - ..."). Match user search intent.
- **Keywords**: Include variations (Cúp C1, Cup C1, lịch thi đấu C1, kết quả C1) for Vietnamese sports.
- **On-page**: H1 and first paragraph should include target keywords. Use `sr-only` for extra SEO text if needed.
- **Open Graph & Twitter**: Add `openGraph`, `twitter` in metadata. Use `opengraph-image.tsx` for dynamic OG images.
- **Structured data**: JSON-LD (SportsEvent, FAQPage, BreadcrumbList). Add `alternateName` for synonyms.
- **Sitemap**: Update `src/app/sitemap.ts`. Key pages: `priority` 0.9–1. `changeFrequency`: daily/weekly.
- **Canonical**: `alternates.canonical` and `languages` for hreflang.

## Vietnamese Locale

- UI text: Vietnamese.
- **Timezone**: `Asia/Ho_Chi_Minh` when formatting dates.
- **Date locale**: `toLocaleDateString('vi-VN', { timeZone: 'Asia/Ho_Chi_Minh', ... })`.
- Metadata: `locale: 'vi_VN'` in Open Graph.

## Error & Loading

- **Error boundary**: Catch on server, render clear fallback UI (no crashes).
- **Loading**: Client has `loading` state, `loadingRef` to prevent double-fetch. Show "Đang tải..." when loading.
- **Error message**: Display errors to user (not just `console.error`).

## Accessibility

- `aria-label` for links/buttons when text is insufficient.
- `rel="noopener noreferrer"` for `target="_blank"`.
- Clear focus states on interactive elements.

## Code Style

- **Types**: Define type/interface for props, API responses. Use `*.d.ts` in feature folders.
- **Imports**: `@/` alias for `src/`. Prefer absolute paths.
- **Env**: Use `process.env.NEXT_PUBLIC_*` (client), `process.env.*` (server). Add `.env.example` when needed.

## Image Conversion

- **SVG → PNG**: Use `rsvg-convert` (librsvg). Example: `rsvg-convert -o output.png input.svg`
- **Resize**: Add `-w WIDTH` or `-h HEIGHT` for specific dimensions, e.g. `rsvg-convert -w 192 -o icon-192.png logo.svg`
- Prefer `rsvg-convert` over ImageMagick for SVG rendering quality.

## Git Commits

- Format: `feat:`, `fix:`, `refactor:`, `chore:`
- Messages concise, describe changes clearly. Use bullet points for multiple changes.

## Build

- **Không chạy build** (`npm run build`) trừ khi user yêu cầu rõ ràng. Chỉ sửa code, không verify bằng build.
